# 学生成绩管理系统

该仓库演示一个内存态的学生成绩管理系统（MVP），覆盖学生、老师与校长的完整权限链路。项目基于 Python 标准库实现，适合作为业务流程或接口实现的原型参考。

## 功能特性概览

- 基于账号/密码的登录、连续失败锁定及校长重置密码策略。
- 角色驱动的成绩查看、导入、发布与导出流程。
- 按考试与科目聚合的统计、审计日志、学生端新成绩提醒。
- 预置学生/老师/考试/成绩等模拟数据，便于开箱演示。

详细 MVP 需求规格参见 [`docs/mvp_requirements.md`](docs/mvp_requirements.md)。

## 环境准备

```bash
python -m venv .venv
source .venv/bin/activate  # Windows 使用 .venv\Scripts\activate
pip install -r requirements.txt
```

本项目基于 Python 标准库实现业务与 Web 演示界面，并使用 Pytest 进行回归测试。

## 目录结构

| 目录/模块 | 说明 |
| -------- | ---- |
| `app/data.py` | 预置模拟数据与内存状态容器 |
| `app/models.py` | 数据类定义，涵盖账号、学生、考试、成绩等实体 |
| `app/auth.py` | 登录校验、锁定策略、校长密码重置实现 |
| `app/services.py` | 成绩导入导出、发布、统计、审计日志等业务服务 |
| `app/web.py` | 基于标准库 http.server 的 Web 演示界面 |
| `app/main.py` | 命令行交互式演示入口 |
| `tests/` | Pytest 用例，覆盖主要用户故事 |
| `docs/mvp_requirements.md` | MVP 功能需求说明 |

## 使用示例

1. 启动 Web 演示界面：

   ```bash
   python -m app.web
   ```

   浏览器访问 <http://127.0.0.1:8000/>，选择角色账号体验学生/老师/校长不同界面。Web 端支持成绩筛选、导入导出、发布、重置密码等全部 MVP 功能。

2. 启动命令行演示：

   ```bash
   python -m app.main
   ```

3. 根据提示输入账号信息。仓库默认账号（初始密码均为 `Pass@123`）：

   | 角色 | 用户名 | 绑定 ID |
   | ---- | ------ | ------- |
   | 校长 | `principal` | — |
   | 老师 | `t_chn` / `t_mth` / `t_eng` | `T100` / `T200` / `T300` |
   | 学生 | `s_s001` ~ `s_s006` | `S001` ~ `S006` |

4. 登录后可体验各角色在不同考试/科目下的可见范围与操作限制。
=======
参见 [`docs/mvp_requirements.md`](docs/mvp_requirements.md) 获取 MVP 功能需求说明。

## 项目概览

仓库提供了一个完全基于内存的数据层，实现了学生、老师与校长的核心业务流程，包括：

* 账号登录、锁定与密码重置策略。
* 基于角色的成绩查询、导入、导出与发布。
* 审计日志及学生“新成绩提醒”标记。

主要代码位于 `app/` 目录：

| 模块 | 说明 |
| ---- | ---- |
| `data.py` | 预置模拟数据与内存状态 |
| `auth.py` | 认证与账号管理逻辑 |
| `services.py` | 成绩、导出、统计等业务操作 |
| `main.py` | 简单的命令行演示入口 |

## 运行演示

```bash
python -m app.main
```


## 运行测试

```bash
pytest -q
```

测试用例模拟了典型场景（登录、导入发布、学生查看等），可确保核心业务流程按预期工作。

## 常见问题

- **账号被锁定怎么办？** 等待 15 分钟或让校长账号重置密码。
- **如何扩展为持久化实现？** 可将 `app/data.py` 与 `app/services.py` 替换为数据库访问层，再复用既有模型与服务接口。
- **是否支持更多考试或科目？** 可在 `app/data.py` 中扩展种子数据，或通过服务层 API 动态新增。

欢迎在此基础上迭代出更贴近实际系统的后端或前端实现。


